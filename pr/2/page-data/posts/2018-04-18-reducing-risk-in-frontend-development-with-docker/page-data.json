{"componentChunkName":"component---src-templates-post-tsx","path":"/posts/2018-04-18-reducing-risk-in-frontend-development-with-docker","result":{"data":{"allSitePage":{"nodes":[{"id":"SitePage /dev-404-page/","path":"/dev-404-page/","context":null},{"id":"SitePage /","path":"/","context":{"navs":["global"],"title":"Home"}},{"id":"SitePage /about/intro","path":"/about/intro","context":{"navs":null,"title":"about"}},{"id":"SitePage /about/me","path":"/about/me","context":{"navs":["global","landing"],"title":"Me"}},{"id":"SitePage /posts/2014-05-01-bust-the-cache-out-of-it","path":"/posts/2014-05-01-bust-the-cache-out-of-it","context":{"navs":null,"title":"Bust the cache out of it"}},{"id":"SitePage /posts/2014-05-11-wintersmithplugin-externalmounter","path":"/posts/2014-05-11-wintersmithplugin-externalmounter","context":{"navs":null,"title":"Wintersmith Plugin. Mounter"}},{"id":"SitePage /posts/2018-04-18-reducing-risk-in-frontend-development-with-docker","path":"/posts/2018-04-18-reducing-risk-in-frontend-development-with-docker","context":{"navs":null,"title":"Reducing Risk in Frontend Development with Docker"}},{"id":"SitePage /posts/2018-05-24-how-i-use-npm","path":"/posts/2018-05-24-how-i-use-npm","context":{"navs":null,"title":"How I use NPM"}},{"id":"SitePage /posts/2018-10-03-bem-and-the-case-for-simplicity","path":"/posts/2018-10-03-bem-and-the-case-for-simplicity","context":{"navs":null,"title":"BEM and the case for simplicity"}},{"id":"SitePage /posts/2016-01-01-automation-what-i-have-learnt","path":"/posts/2016-01-01-automation-what-i-have-learnt","context":{"navs":null,"title":"Automation, what I've learnt this year."}},{"id":"SitePage /posts/","path":"/posts/","context":{"navs":["landing","global"],"title":"Words"}}]},"mdx":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nconst _frontmatter = {\n  \"template\": \"post\",\n  \"date\": \"2018-04-18T00:00:00.000Z\",\n  \"title\": \"Reducing Risk in Frontend Development with Docker\",\n  \"tags\": \"nodejs, docker, frontend\",\n  \"comments\": true,\n  \"theme\": \"queenblue\",\n  \"stage\": \"draft\"\n};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  let {\n    components\n  } = _ref,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"You and your team have been working on a website for the last couple of weeks, everything is good. But now there's a new team member and they need to get their machine setup.\"), mdx(\"p\", null, \"Perhaps you'd goto to the NodeJS website and download whatever version, run the installer and attempt to install the tools for your project.\"), mdx(\"p\", null, \"Or maybe you've discovered that you need a better way to manage the versions of nodejs you need. So you go an install Nodist or Nvm depending on your operating system.\"), mdx(\"p\", null, \"Then you'd try and install the projects tools, because you're a smart cookie you've described all this in your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"package.json\"), \". Hopeful faces abound as you run \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"npm install\"), \".\"), mdx(\"p\", null, \"But now you're experiencing mysterious installation issues, pngquant won't install for some reason, node-sass can't find some binding thing, and there's a problem with something being too long.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"This was the state of affairs around 2016-2018, and it roughly continues to be the case\\nin 2020.\")), mdx(\"p\", null, \"If only there was a more reliable way to get a new team member up and running with the project, A way to ensure that your project doesn't rely on 3rd party repositories to make a build.\"), mdx(\"p\", null, \"There is, here's what I've learnt.\"), mdx(\"h2\", {\n    \"id\": \"engine-version-managers\"\n  }, \"Engine Version Managers\"), mdx(\"p\", null, \"New nodejs versions are released frequently, mostly with new shiny features.\"), mdx(\"p\", null, \"So you'd have to ensure that once you got everything working, that you also specified what version of node to use.\"), mdx(\"p\", null, \"They work nicely on macosx and linux, because bash is awesome. but bash doesn't exist on windows... so yeah, you'll be managing two sets of manifests to describe the environment.\"), mdx(\"h2\", {\n    \"id\": \"tasks-runners-and-makefiles\"\n  }, \"Tasks Runners and Makefiles\"), mdx(\"p\", null, \"Make doesn't exist on windows, and even if it did, your engineers might suffer hubris and just write everything to only work in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"bash\"), \", lol powershell right? right guys?\"), mdx(\"p\", null, \"These tasks are a valuable time saver for the team. they should work on any machine in any environment... bit of a pipe dream, but the Ansible and Terraform guys didn't think so... maybe we can get some middleground?\"), mdx(\"h2\", {\n    \"id\": \"virtual-machines\"\n  }, \"Virtual Machines\"), mdx(\"p\", null, \"Five years ago, teams working on Django, Symphony, Ruby on Rails or Laravel would use something like Virtualbox (kvm, VMWare, etc) to bake an operating system, the project and its dependencies. You'd end up with an image that could be anywhere from 1-4gb depending on your choice of operating system, and that's just to start.... this image grows because copy on write filesystems are lulz.\"), mdx(\"p\", null, \"Windows and .Net developers however seem to handle this differently. I've never met or heard of anyone in that area creating a virtual machine containing Windows, IIS and MSSQL, probably because they're used to downloading and storing dependencies in their project since the dawn of time, or more likely because such an image would end up being 20-60gb.\"), mdx(\"p\", null, \"If you didn't use Vagrant, your virtual machine image is now ready for use.\"), mdx(\"p\", null, \"I actually used Vagrant in the past to simulate my production environment while coding. It's great way to be exposed to production problems sooner, which means you won't code your self into a corner because you didn't realise x library doesn't communicate across the network layer.\"), mdx(\"p\", null, \"But it's slow. start up times are slow, host <-> vm file sync is slow and tricky and running even one vm uses up huge amounts of host memory.\"), mdx(\"h2\", {\n    \"id\": \"primary-risks\"\n  }, \"Primary Risks\"), mdx(\"p\", null, \"Show stoppers I've encountered:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"package author removes their package from npm (padleft)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"packages have post install compile steps, which the package author isn't mitigating or hasn't tested. Post build step performs network operations \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"will\"), \" fail.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Our internet connection died because Telstra technician unilaterally decides to unplug our router/modem\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Some problem with intermediate caching on our machines is causing an incorrect package to be installed.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Python wasn't installed, so node-gyp doesn't run, so can't install node-sass.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Node-gyp wasn't installed globally.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Didn't have the right version of Python...\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Random version of MSbuild wasn't installed, some post install build process defined a node-gyp step that requires it.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Git wasn't installed, or more precisely it was un-installed and team member decided that the git bundled with SourceTree was good enough.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Some post build processes attempt to clean-up, but can't because some aspects of windows don't like paths longer than 256 characters.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Package author doesn't like windows, won't account for it and is hostile to any suggestions that their architecture contributes to the monumental amount of bug tickets regarding installation of their package.\")), mdx(\"p\", null, \"These are just the ones I can remember, but to narrow them down into defined domains lets call them:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\\"hostile deprecation\\\"\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\\"network dependant\\\"\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\\"ignorant post installation\\\"\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\\"obscure system requirements\\\" -- apparently.\")), mdx(\"h3\", {\n    \"id\": \"hostile-deprecation\"\n  }, \"Hostile Deprecation\"), mdx(\"p\", null, \"every time you \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"npm i\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pip install\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"bundle install\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"nuget install\"), \" you're at the mercy of people like the author of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pad-left\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"imagemin\"), \".\"), mdx(\"p\", null, \"Some of these authors are doe eyed enthusiastic people, they've yet to encounter what a colleague of mine explained to me as:\"), mdx(\"p\", null, \"We are like diamonds, slowly eroded by the persistent drips of reality into thin lubricating substance that keeps software running smoothly.\\n\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"-- Anon Colleague\"), \" \"), mdx(\"p\", null, \"What's that? you can't install a package and you have to create a prod build for deployment in an hour... oh what a shame.\"), mdx(\"h2\", {\n    \"id\": \"where-to-from-here\"\n  }, \"Where to from here?\"), mdx(\"p\", null, \"Over the last two years at Fusion, I've had to move outside the well crafted world of linux into that of MacOSx and Windows 7 and 10. Each of these systems have different ways of doing things on the filesystem, they have different ways of interpreting code and while NodeJS claims to be cross-platform (and it is), the reality is that most module authors are on linux or macosx, the automated tests they write rarely run cross platform or on multiple versions of node.\"), mdx(\"p\", null, \"As a frontend developer there are some things I've learnt with regards to the tooling we use, the solutions I came up with as I reached our current game plan were influenced by what I learnt while commercially developing Django projects.\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"Reducing Risk in Frontend Development with Docker","tags":"nodejs, docker, frontend","date":"2018-04-18T00:00:00.000Z"}}},"pageContext":{"id":"1729c15d-370e-5c28-bf68-b7df3ffdbe34","title":"Reducing Risk in Frontend Development with Docker","template":"post","date":"2018-04-18T00:00:00.000Z","tags":"nodejs, docker, frontend","comments":true,"theme":"queenblue","stage":"draft"}},"staticQueryHashes":[]}